<% @body_id = 'product-details' %>
<% if flash[:error].present? %>
      <div class="flash flash--error">
        <%= flash[:error] %>
      </div>
    <% end %> 
<% cache [I18n.locale, current_pricing_options, @product] do %>
  
  <div class="product-page" itemscope itemtype="http://schema.org/Product">
      
    <div class="product--gallery">
      <div class="product-page--images">
        <%= render 'product_images_carousel', product: @product %>
      </div>
      <div class="mobile-layout is-active">
        <div class="mobile-product-button">
          <%= render 'cart_line_items/form', product: @product %>
          <% if @product.price_for_options(current_pricing_options)&.money and !@product.price.nil? %>
            <div class="mobile-product-button-price">
              <%= content_tag(
                :span,
                display_price(@product),
                itemprop: 'price',
                content: @product.price_for_options(current_pricing_options)&.money.to_d,
                data: { js: 'price' }
              ) %>

              <%= content_tag(
                :span,
                nil,
                itemprop: 'priceCurrency',
                content: current_pricing_options.currency
              ) %>
            </div>
          <% end %>
        </div>
        <div class="mobile-product-info-button">
          <button class="info-toggle" onclick="infoToggle()">
            <svg fill="#ffffff" height="10px" width="10px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
            viewBox="0 0 330 330" xml:space="preserve">
            <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
            l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
            C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
            </svg>
            Info
          </button>
        </div>
      </div>
    </div>
    
    <div class="product--info">
      <div class="product--info--header">
        <div class="product--info--header--title">
          <%= render 'product_header', product: @product %>
        </div>
        <div class="product--info--header--button">
          <%= render 'cart_line_items/form', product: @product %>
        </div>
      </div>
      <div class="product--info--description">
        <div class="accordion">
          <button class="accordion--toggle" onclick="accordionToggle(0)">
          <div class="accordion--icon">
            
              <svg fill="#000000" height="6px" width="6px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
              viewBox="0 0 330 330" xml:space="preserve">
              <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
              l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
              C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
              </svg>
           

          </div>
            Description
          </button>
          <div class="accordion--content is-active" >
            <%= render 'product_info', product: @product %>
            <%#= render 'product_properties', product_properties: @product_properties %>
          </div>
        </div>
        <div class="accordion">
          <button class="accordion--toggle" onclick="accordionToggle(1)">
            <div class="accordion--icon">
                <svg fill="#000000" height="6px" width="6px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 330 330" xml:space="preserve">
                <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
                l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
                C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
                </svg>
            </div>
              Delivery & Returns
            </button>
          <div class="accordion--content">
            <p style="text-transform: uppercase;">Delivery</p>
            <p>Permanence uses ShipBlue as it's main shipping company. It promises to deliver in 1-2 business
            days inside of Cairo and 3-4 buinsess days all across Egypt.</p><br>
            <p style="text-transform: uppercase;">Returns & Refunds</p>
            <p>If items are significantly damaged, return is applicable and a refund will be issued. However, Permanence quality checks
            all vintage pieces and any defects are clearly stated and shown in the product description and images on the website.</p>
          </div>
        </div>
        <div class="accordion">
          <button class="accordion--toggle" onclick="accordionToggle(2)">
            <div class="accordion--icon">
             
                <svg fill="#000000" height="6px" width="6px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 330 330" xml:space="preserve">
                <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
                l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
                C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
                </svg>
             
            </div>
            Care Guide
            </button>
          <div class="accordion--content">
            <p>Vintage pieces have withstood the past and can withstand the future with care. This includes keeping your vintage pieces in a dry, dust-free place away from direct sunlight.</p>
            <p>Humidity or damp will damage delicate fibers, and sunlight can fade prints and colours.</p>
            <p>Keep vintage clothes stored where they can breathe, and avoid plastic bags covers.</p>
            <p>Regarding the cleaning process, if you wear a vintage garment, and it does not get dirty, consider holding off on washing it. Rather than washing the item, either in a washing machine or by hand,
            let it air out. Try hanging the item outside in the fresh air and sun for a few hours; you'll be amazed at how this can really freshen an item out.</p>
          </div>
        </div>

        <div class="accordion">
          <button class="accordion--toggle" onclick="accordionToggle(3)">
            <div class="accordion--icon">
             
                <svg fill="#000000" height="6px" width="6px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 330 330" xml:space="preserve">
                <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
                l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
                C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
                </svg>
            
            </div>
              Size Assistance
            </button>
          <div class="accordion--content"></div>
        </div>
        
        <%#= render 'product_taxons', product: @product %>
      </div>
      
      <%= render 'product_promotions', product: @product %>
    </div>
    <div class="mobile--product--info">
      
      <div class="product--info--header">
        <div class="info--close" onclick="infoToggle()">
          &#x2715;
        </div>
        <div class="product--info--header--title">
          <%= render 'product_header', product: @product %>
        </div>
        <div class="product--info--header--button">
          <%= render 'cart_line_items/form', product: @product %>
        </div>
      </div>
      <div class="product--info--description">
        <div class="accordion">
          <button class="accordion--toggle" onclick="mobileAccordionToggle(0)">
          <div class="mobile--accordion--icon">
           
              <svg fill="#000000" height="6px" width="6px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
              viewBox="0 0 330 330" xml:space="preserve">
              <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
              l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
              C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
              </svg>
           

          </div>
            Description
          </button>
          <div class="mobile--accordion--content is-active" >
            <%= render 'product_info', product: @product %>
            <%#= render 'product_properties', product_properties: @product_properties %>
          </div>
        </div>
        <div class="accordion">
          <button class="accordion--toggle" onclick="mobileAccordionToggle(1)">
            <div class="mobile--accordion--icon">
              
                <svg fill="#000000" height="6px" width="6px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 330 330" xml:space="preserve">
                <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
                l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
                C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
                </svg>
              
            </div>
              Delivery & Returns
            </button>
          <div class="mobile--accordion--content">
            <p style="text-transform: uppercase;">Delivery</p>
            <p>Permanence uses ShipBlue as it's main shipping company. It promises to deliver in 1-2 business
            days inside of Cairo and 3-4 buinsess days all across Egypt.</p><br>
            <p style="text-transform: uppercase;">Returns & Refunds</p>
            <p>If items are significantly damaged, return is applicable and a refund will be issued. However, Permanence quality checks
            all vintage pieces and any defects are clearly stated and shown in the product description and images on the website.</p>
          </div>
        </div>
        <div class="accordion">
          <button class="accordion--toggle" onclick="mobileAccordionToggle(2)">
            <div class="mobile--accordion--icon">
              
                <svg fill="#000000" height="6px" width="6px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 330 330" xml:space="preserve">
                <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
                l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
                C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
                </svg>
             
            </div>
            Care Guide
            </button>
          <div class="mobile--accordion--content">
            <p>Vintage pieces have withstood the past and can withstand the future with care. This includes keeping your vintage pieces in a dry, dust-free place away from direct sunlight.</p>
            <p>Humidity or damp will damage delicate fibers, and sunlight can fade prints and colours.</p>
            <p>Keep vintage clothes stored where they can breathe, and avoid plastic bags covers.</p>
            <p>Regarding the cleaning process, if you wear a vintage garment, and it does not get dirty, consider holding off on washing it. Rather than washing the item, either in a washing machine or by hand,
            let it air out. Try hanging the item outside in the fresh air and sun for a few hours; you'll be amazed at how this can really freshen an item out.</p>
          </div>
        </div>

        <div class="accordion">
          <button class="accordion--toggle" onclick="mobileAccordionToggle(3)">
            <div class="mobile--accordion--icon">
              
                <svg fill="#000000" height="6px" width="6px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 330 330" xml:space="preserve">
                <path id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
                l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
                C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
                </svg>
             
            </div>
              Size Assistance
            </button>
          <div class="mobile--accordion--content"></div>
        </div>
        
        <%#= render 'product_taxons', product: @product %>
      </div>
      
      <%= render 'product_promotions', product: @product %>

    </div>
  </div>
<% end %>
